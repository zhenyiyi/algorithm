# 哈夫曼树与哈夫曼编码



### 什么是哈夫曼树(Huffman Tree)



eg : 将百分制的考试成绩转换成五分制的成绩 (可以构造一个判定树)

```c
if( score < 60 ) grade =1; 
else if( score < 70 ) grade =2; 
else if( score < 80 ) grade =3; 
else if( score < 90 ) grade =4; 
else grade =5;
```



如果考虑学生成绩的分布的概率:

| 分数段 | 0-59  | 60-69 | 70-79 | 80-89 | 90-100 |
| ------ | ----- | ----- | ----- | ----- | ------ |
| 比例   | 0.0.5 | 0.15  | 0.40  | 0.30  | 0.10   |

>  查找效率: 0.05× 1+0.15 ×2+0.4× 3+0.3 ×4+0.1× 4 = 3.15



修改判定树

```c
if( score < 80 )
{
  if( score < 70 )
		if( score < 60 ) grade =1;
		else grade = 2;
  else grad=3;
}else if( score < 90 ) grade =4;
else grade =5;
```

> 查找效率:  0.05× 3+0.15 ×3+0.4× 2+0.3 ×2+0.1× 2 = 2.2



## 如何根据结点不同的查找频率构造更有效的搜索树?

#### 哈夫曼树的定义

带权路径长度(WPL):设二叉树有n个叶子结点，每个叶子结点带 有权值 **W**k，从根结点到每个叶子结点的长度为 **L**k，则每个叶子结点的带权路径长度之和就是: 

>  最优二叉树或哈夫曼树: WPL最小的二叉树



### 哈夫曼树的特点：

有度为1的结点; 

- n 个叶子结点的哈夫曼树共有2n-1个结点;  (2n-1 = n + n-1)
- 哈夫曼树的任意非叶节点的左右子树交换后仍是哈夫曼树; 

 对同一组权值{w1 ,w2 , ...... , wn}，是否存在不同构的两 棵哈夫曼树呢? 

对一组权值{ 1, 2 , 3, 3 }，不同构的两棵哈夫曼树 



### 哈夫曼编码

给定一段字符串，如何对字符进行编码，可以使得该字符串的编码 存储空间最少? 

[例] 假设有一段文本，包含58个字符，并由以下7个字符构:a，e，i， s，t，空格(sp)，换行(nl);这7个字符出现的次数不同。如何对 这7个字符进行编码，使得总编码空间最少? 

【分析】

- 用等长ASCII编码:58 ×8 = 464位;

- 用等长3位编码:58 ×3 = 174位; 
- 不等长编码:出现频率高的字符用的编码短些，出现频率低 的字符则可以编码长些? 



### 怎么进行不等长编码?
### 如何避免二义性?

**前缀码prefix code**:

- 任何字符的编码都不是另一字符编码的前缀 
-  可以无二义地解码 